2023-11-05 00:13:01.230 +03:00 [INF] Request starting HTTP/1.1 PATCH https://localhost:7193/api/cities/1/pointsofinterest/1 application/json 192
2023-11-05 00:13:01.262 +03:00 [DBG] PATCH requests are not supported
2023-11-05 00:13:01.263 +03:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1/pointsofinterest/1'
2023-11-05 00:13:01.265 +03:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2023-11-05 00:13:01.268 +03:00 [INF] Executing endpoint '405 HTTP Method Not Supported'
2023-11-05 00:13:01.270 +03:00 [INF] Executed endpoint '405 HTTP Method Not Supported'
2023-11-05 00:13:01.271 +03:00 [DBG] Connection id "0HMUTEUVO08LP" completed keep alive response.
2023-11-05 00:13:01.273 +03:00 [INF] Request finished HTTP/1.1 PATCH https://localhost:7193/api/cities/1/pointsofinterest/1 application/json 192 - 405 0 - 42.2254ms
2023-11-05 00:13:01.274 +03:00 [DBG] Connection id "0HMUTEUVO08LP", Request id "0HMUTEUVO08LP:00000006": started reading request body.
2023-11-05 00:13:01.276 +03:00 [DBG] Connection id "0HMUTEUVO08LP", Request id "0HMUTEUVO08LP:00000006": done reading request body.
2023-11-05 00:13:29.984 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-11-05 00:13:30.068 +03:00 [DBG] Hosting starting
2023-11-05 00:13:30.213 +03:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 3064AB47D375EC09741A8505697F41663F80D4D9)
2023-11-05 00:13:30.337 +03:00 [INF] Now listening on: https://localhost:7193
2023-11-05 00:13:30.338 +03:00 [INF] Now listening on: http://localhost:5076
2023-11-05 00:13:30.339 +03:00 [DBG] Loaded hosting startup assembly CityInfo.API
2023-11-05 00:13:30.340 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-11-05 00:13:30.341 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-11-05 00:13:30.342 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2023-11-05 00:13:30.342 +03:00 [INF] Hosting environment: Development
2023-11-05 00:13:30.343 +03:00 [INF] Content root path: C:\Users\KevinCombaGatimu\Desktop\Dotnet\Learning ASP.Net\CityInfo.API\CityInfo.API\
2023-11-05 00:13:30.344 +03:00 [DBG] Hosting started
2023-11-05 00:13:30.587 +03:00 [DBG] Connection id "0HMUTFBIKR6AF" received FIN.
2023-11-05 00:13:30.597 +03:00 [DBG] Connection id "0HMUTFBIKR6AF" accepted.
2023-11-05 00:13:30.600 +03:00 [DBG] Connection id "0HMUTFBIKR6AF" started.
2023-11-05 00:13:30.621 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-11-05 00:13:30.657 +03:00 [DBG] Connection id "0HMUTFBIKR6AF" stopped.
2023-11-05 00:13:30.662 +03:00 [DBG] Connection id "0HMUTFBIKR6AF" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-11-05 00:13:30.919 +03:00 [DBG] Connection id "0HMUTFBIKR6AG" accepted.
2023-11-05 00:13:31.023 +03:00 [DBG] Connection id "0HMUTFBIKR6AG" started.
2023-11-05 00:13:31.163 +03:00 [DBG] Connection 0HMUTFBIKR6AG established using the following protocol: "Tls13"
2023-11-05 00:13:31.240 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7193/swagger/index.html - -
2023-11-05 00:13:31.277 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-11-05 00:13:31.392 +03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2023-11-05 00:13:31.607 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7193/_framework/aspnetcore-browser-refresh.js - -
2023-11-05 00:13:31.608 +03:00 [DBG] Response markup was updated to include browser refresh script injection.
2023-11-05 00:13:31.613 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7193/swagger/index.html - - - 200 - text/html;charset=utf-8 377.2156ms
2023-11-05 00:13:31.613 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7193/_framework/aspnetcore-browser-refresh.js - - - 200 12356 application/javascript;+charset=utf-8 6.3479ms
2023-11-05 00:13:31.635 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7193/_vs/browserLink - -
2023-11-05 00:13:31.797 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7193/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 162.0833ms
2023-11-05 00:13:31.863 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7193/swagger/v1/swagger.json - -
2023-11-05 00:13:32.065 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7193/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 202.4918ms
2023-11-05 00:13:36.187 +03:00 [DBG] Connection id "0HMUTFBIKR6AH" accepted.
2023-11-05 00:13:36.187 +03:00 [DBG] Connection id "0HMUTFBIKR6AH" received FIN.
2023-11-05 00:13:36.188 +03:00 [DBG] Connection id "0HMUTFBIKR6AH" started.
2023-11-05 00:13:36.189 +03:00 [DBG] Connection id "0HMUTFBIKR6AI" accepted.
2023-11-05 00:13:36.193 +03:00 [DBG] Connection id "0HMUTFBIKR6AI" started.
2023-11-05 00:13:36.191 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-11-05 00:13:36.197 +03:00 [DBG] Connection id "0HMUTFBIKR6AH" stopped.
2023-11-05 00:13:36.199 +03:00 [DBG] Connection id "0HMUTFBIKR6AH" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-11-05 00:13:36.199 +03:00 [DBG] Connection 0HMUTFBIKR6AI established using the following protocol: "Tls13"
2023-11-05 00:13:36.208 +03:00 [INF] Request starting HTTP/1.1 PATCH https://localhost:7193/api/cities/1/pointsofinterest/1 application/json 192
2023-11-05 00:13:36.212 +03:00 [DBG] PATCH requests are not supported
2023-11-05 00:13:36.239 +03:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1/pointsofinterest/1'
2023-11-05 00:13:36.244 +03:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.PartiallyUpdatePointOfInterestAsync (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest/{pointofinterestId}' is valid for the request path '/api/cities/1/pointsofinterest/1'
2023-11-05 00:13:36.247 +03:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.PartiallyUpdatePointOfInterestAsync (CityInfo.API)'
2023-11-05 00:13:36.250 +03:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.PartiallyUpdatePointOfInterestAsync (CityInfo.API)'
2023-11-05 00:13:36.286 +03:00 [INF] Route matched with {action = "PartiallyUpdatePointOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] PartiallyUpdatePointOfInterestAsync(Int32, Int32, Microsoft.AspNetCore.JsonPatch.JsonPatchDocument`1[CityInfo.API.Models.PointOfInterestForUpdateDto]) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2023-11-05 00:13:36.290 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-11-05 00:13:36.293 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-11-05 00:13:36.295 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-11-05 00:13:36.296 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-11-05 00:13:36.297 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-11-05 00:13:36.298 +03:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2023-11-05 00:13:36.760 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-11-05 00:13:36.787 +03:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2023-11-05 00:13:36.793 +03:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2023-11-05 00:13:36.797 +03:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2023-11-05 00:13:36.800 +03:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-11-05 00:13:36.802 +03:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-11-05 00:13:36.803 +03:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2023-11-05 00:13:36.806 +03:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2023-11-05 00:13:36.811 +03:00 [DBG] Attempting to bind parameter 'pointofinterestId' of type 'System.Int32' ...
2023-11-05 00:13:36.813 +03:00 [DBG] Attempting to bind parameter 'pointofinterestId' of type 'System.Int32' using the name 'pointofinterestId' in request data ...
2023-11-05 00:13:36.815 +03:00 [DBG] Done attempting to bind parameter 'pointofinterestId' of type 'System.Int32'.
2023-11-05 00:13:36.817 +03:00 [DBG] Done attempting to bind parameter 'pointofinterestId' of type 'System.Int32'.
2023-11-05 00:13:36.818 +03:00 [DBG] Attempting to validate the bound parameter 'pointofinterestId' of type 'System.Int32' ...
2023-11-05 00:13:36.820 +03:00 [DBG] Done attempting to validate the bound parameter 'pointofinterestId' of type 'System.Int32'.
2023-11-05 00:13:36.821 +03:00 [DBG] Attempting to bind parameter 'patchDocument' of type 'Microsoft.AspNetCore.JsonPatch.JsonPatchDocument`1[CityInfo.API.Models.PointOfInterestForUpdateDto]' ...
2023-11-05 00:13:36.823 +03:00 [DBG] Attempting to bind parameter 'patchDocument' of type 'Microsoft.AspNetCore.JsonPatch.JsonPatchDocument`1[CityInfo.API.Models.PointOfInterestForUpdateDto]' using the name '' in request data ...
2023-11-05 00:13:36.825 +03:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2023-11-05 00:13:36.826 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2023-11-05 00:13:36.836 +03:00 [DBG] Connection id "0HMUTFBIKR6AI", Request id "0HMUTFBIKR6AI:00000002": started reading request body.
2023-11-05 00:13:36.838 +03:00 [DBG] Connection id "0HMUTFBIKR6AI", Request id "0HMUTFBIKR6AI:00000002": done reading request body.
2023-11-05 00:13:37.034 +03:00 [DBG] Done attempting to bind parameter 'patchDocument' of type 'Microsoft.AspNetCore.JsonPatch.JsonPatchDocument`1[CityInfo.API.Models.PointOfInterestForUpdateDto]'.
2023-11-05 00:13:37.037 +03:00 [DBG] Done attempting to bind parameter 'patchDocument' of type 'Microsoft.AspNetCore.JsonPatch.JsonPatchDocument`1[CityInfo.API.Models.PointOfInterestForUpdateDto]'.
2023-11-05 00:13:37.039 +03:00 [DBG] Attempting to validate the bound parameter 'patchDocument' of type 'Microsoft.AspNetCore.JsonPatch.JsonPatchDocument`1[CityInfo.API.Models.PointOfInterestForUpdateDto]' ...
2023-11-05 00:13:37.050 +03:00 [DBG] Done attempting to validate the bound parameter 'patchDocument' of type 'Microsoft.AspNetCore.JsonPatch.JsonPatchDocument`1[CityInfo.API.Models.PointOfInterestForUpdateDto]'.
2023-11-05 00:13:37.408 +03:00 [INF] Executing action method CityInfo.API.Controllers.PointsOfInterestController.PartiallyUpdatePointOfInterestAsync (CityInfo.API) - Validation state: "Valid"
2023-11-05 00:13:37.701 +03:00 [DBG] Connection id "0HMUTFBIKR6AG" received FIN.
2023-11-05 00:13:37.710 +03:00 [DBG] Connection id "0HMUTFBIKR6AG" is closed. The last processed stream ID was 7.
2023-11-05 00:13:37.712 +03:00 [DBG] Connection id "0HMUTFBIKR6AG" sending FIN because: "The client closed the connection."
2023-11-05 00:13:37.715 +03:00 [DBG] Connection id "0HMUTFBIKR6AG" stopped.
2023-11-05 00:13:38.461 +03:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2023-11-05 00:13:38.514 +03:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Any(c => c.Id == __cityId_0)'
2023-11-05 00:13:38.932 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: new SingleQueryingEnumerable<bool>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Cities AS c
                WHERE c.Id == @__cityId_0)), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-11-05 00:13:38.991 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-11-05 00:13:39.083 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (92ms).
2023-11-05 00:13:39.101 +03:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-11-05 00:13:39.128 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\KevinCombaGatimu\Desktop\Dotnet\Learning ASP.Net\CityInfo.API\CityInfo.API\CityInfo.db'.
2023-11-05 00:13:39.149 +03:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2023-11-05 00:13:39.172 +03:00 [INF] Executed DbCommand (34ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2023-11-05 00:13:39.190 +03:00 [DBG] A data reader was disposed.
2023-11-05 00:13:39.203 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\KevinCombaGatimu\Desktop\Dotnet\Learning ASP.Net\CityInfo.API\CityInfo.API\CityInfo.db'.
2023-11-05 00:13:39.213 +03:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-11-05 00:13:39.220 +03:00 [DBG] Compiling query expression: 
'DbSet<PointOfInterest>()
    .Where(p => p.CityId == __cityId_0 & p.Id == __pointOfInterestId_1)
    .Where(c => c.Id == __cityId_0)
    .FirstOrDefault()'
2023-11-05 00:13:39.301 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<PointOfInterest>(
    asyncEnumerable: new SingleQueryingEnumerable<PointOfInterest>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: PointOfInterest.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: PointOfInterest.CityId (int) Required FK Index, 1], [Property: PointOfInterest.Description (string) Required MaxLength(200), 2], [Property: PointOfInterest.Name (string) Required MaxLength(50), 3] }
            SELECT TOP(1) p.Id, p.CityId, p.Description, p.Name
            FROM PointsOfInterest AS p
            WHERE ((p.CityId == @__cityId_0) & (p.Id == @__pointOfInterestId_1)) && (p.Id == @__cityId_0)), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, PointOfInterest>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-11-05 00:13:39.328 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-11-05 00:13:39.330 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-11-05 00:13:39.331 +03:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-11-05 00:13:39.333 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\KevinCombaGatimu\Desktop\Dotnet\Learning ASP.Net\CityInfo.API\CityInfo.API\CityInfo.db'.
2023-11-05 00:13:39.335 +03:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointOfInterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointsOfInterest" AS "p"
WHERE (("p"."CityId" = @__cityId_0) & ("p"."Id" = @__pointOfInterestId_1)) AND ("p"."Id" = @__cityId_0)
LIMIT 1
2023-11-05 00:13:39.337 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointOfInterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointsOfInterest" AS "p"
WHERE (("p"."CityId" = @__cityId_0) & ("p"."Id" = @__pointOfInterestId_1)) AND ("p"."Id" = @__cityId_0)
LIMIT 1
2023-11-05 00:13:39.361 +03:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-11-05 00:13:39.399 +03:00 [DBG] A data reader was disposed.
2023-11-05 00:13:39.400 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\KevinCombaGatimu\Desktop\Dotnet\Learning ASP.Net\CityInfo.API\CityInfo.API\CityInfo.db'.
2023-11-05 00:13:39.401 +03:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-11-05 00:13:39.443 +03:00 [DBG] SaveChanges starting for 'CityInfoContext'.
2023-11-05 00:13:39.448 +03:00 [DBG] DetectChanges starting for 'CityInfoContext'.
2023-11-05 00:13:39.469 +03:00 [DBG] The unchanged property 'PointOfInterest.Description' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2023-11-05 00:13:39.484 +03:00 [DBG] An entity of type 'PointOfInterest' tracked by 'CityInfoContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-11-05 00:13:39.488 +03:00 [DBG] The unchanged property 'PointOfInterest.Name' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2023-11-05 00:13:39.496 +03:00 [DBG] DetectChanges completed for 'CityInfoContext'.
2023-11-05 00:13:39.522 +03:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-11-05 00:13:39.524 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\KevinCombaGatimu\Desktop\Dotnet\Learning ASP.Net\CityInfo.API\CityInfo.API\CityInfo.db'.
2023-11-05 00:13:39.528 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2023-11-05 00:13:39.536 +03:00 [DBG] Began transaction with isolation level 'Serializable'.
2023-11-05 00:13:39.585 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-11-05 00:13:39.586 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-11-05 00:13:39.587 +03:00 [DBG] Executing DbCommand [Parameters=[@p2='?' (DbType = Int32), @p0='?' (Size = 17), @p1='?' (Size = 12)], CommandType='"Text"', CommandTimeout='30']
UPDATE "PointsOfInterest" SET "Description" = @p0, "Name" = @p1
WHERE "Id" = @p2;
SELECT changes();
2023-11-05 00:13:39.603 +03:00 [INF] Executed DbCommand (16ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (Size = 17), @p1='?' (Size = 12)], CommandType='"Text"', CommandTimeout='30']
UPDATE "PointsOfInterest" SET "Description" = @p0, "Name" = @p1
WHERE "Id" = @p2;
SELECT changes();
2023-11-05 00:13:39.617 +03:00 [DBG] A data reader was disposed.
2023-11-05 00:13:39.631 +03:00 [DBG] Committing transaction.
2023-11-05 00:13:39.649 +03:00 [DBG] Committed transaction.
2023-11-05 00:13:39.661 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\KevinCombaGatimu\Desktop\Dotnet\Learning ASP.Net\CityInfo.API\CityInfo.API\CityInfo.db'.
2023-11-05 00:13:39.666 +03:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-11-05 00:13:39.673 +03:00 [DBG] Disposing transaction.
2023-11-05 00:13:39.687 +03:00 [DBG] An entity of type 'PointOfInterest' tracked by 'CityInfoContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-11-05 00:13:39.695 +03:00 [DBG] SaveChanges completed for 'CityInfoContext' with 1 entities written to the database.
2023-11-05 00:13:39.702 +03:00 [INF] Executed action method CityInfo.API.Controllers.PointsOfInterestController.PartiallyUpdatePointOfInterestAsync (CityInfo.API), returned result Microsoft.AspNetCore.Mvc.NoContentResult in 2287.3462ms.
2023-11-05 00:13:39.711 +03:00 [INF] Executing StatusCodeResult, setting HTTP status code 204
2023-11-05 00:13:39.718 +03:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.PartiallyUpdatePointOfInterestAsync (CityInfo.API) in 3415.3538ms
2023-11-05 00:13:39.719 +03:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.PartiallyUpdatePointOfInterestAsync (CityInfo.API)'
2023-11-05 00:13:39.721 +03:00 [DBG] Connection id "0HMUTFBIKR6AI" completed keep alive response.
2023-11-05 00:13:39.727 +03:00 [DBG] 'CityInfoContext' disposed.
2023-11-05 00:13:39.731 +03:00 [INF] Request finished HTTP/1.1 PATCH https://localhost:7193/api/cities/1/pointsofinterest/1 application/json 192 - 204 - - 3522.6744ms
2023-11-05 00:13:56.334 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7193/api/cities/1/pointsofinterest - -
2023-11-05 00:13:56.335 +03:00 [DBG] The request path  does not match the path filter
2023-11-05 00:13:56.337 +03:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1/pointsofinterest'
2023-11-05 00:13:56.338 +03:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest' is valid for the request path '/api/cities/1/pointsofinterest'
2023-11-05 00:13:56.340 +03:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2023-11-05 00:13:56.341 +03:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2023-11-05 00:13:56.347 +03:00 [INF] Route matched with {action = "GetPointsOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.PointOfInterestDto]]] GetPointsOfInterest(Int32) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2023-11-05 00:13:56.349 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-11-05 00:13:56.350 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-11-05 00:13:56.351 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-11-05 00:13:56.353 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-11-05 00:13:56.354 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-11-05 00:13:56.355 +03:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2023-11-05 00:13:56.365 +03:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2023-11-05 00:13:56.367 +03:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2023-11-05 00:13:56.368 +03:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2023-11-05 00:13:56.369 +03:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-11-05 00:13:56.370 +03:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-11-05 00:13:56.371 +03:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2023-11-05 00:13:56.372 +03:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2023-11-05 00:13:56.439 +03:00 [INF] Executing action method CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API) - Validation state: "Valid"
2023-11-05 00:13:56.445 +03:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2023-11-05 00:13:56.456 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-11-05 00:13:56.457 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-11-05 00:13:56.458 +03:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-11-05 00:13:56.459 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\KevinCombaGatimu\Desktop\Dotnet\Learning ASP.Net\CityInfo.API\CityInfo.API\CityInfo.db'.
2023-11-05 00:13:56.460 +03:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2023-11-05 00:13:56.462 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2023-11-05 00:13:56.464 +03:00 [DBG] A data reader was disposed.
2023-11-05 00:13:56.465 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\KevinCombaGatimu\Desktop\Dotnet\Learning ASP.Net\CityInfo.API\CityInfo.API\CityInfo.db'.
2023-11-05 00:13:56.466 +03:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-11-05 00:13:56.478 +03:00 [DBG] Compiling query expression: 
'DbSet<PointOfInterest>()
    .Where(p => p.CityId == __cityId_0)'
2023-11-05 00:13:56.482 +03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<PointOfInterest>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: PointOfInterest.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: PointOfInterest.CityId (int) Required FK Index, 1], [Property: PointOfInterest.Description (string) Required MaxLength(200), 2], [Property: PointOfInterest.Name (string) Required MaxLength(50), 3] }
        SELECT p.Id, p.CityId, p.Description, p.Name
        FROM PointsOfInterest AS p
        WHERE p.CityId == @__cityId_0), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, PointOfInterest>, 
    CityInfo.API.DbContexts.CityInfoContext, 
    False, 
    False, 
    True
)'
2023-11-05 00:13:56.484 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-11-05 00:13:56.485 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-11-05 00:13:56.487 +03:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-11-05 00:13:56.488 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\KevinCombaGatimu\Desktop\Dotnet\Learning ASP.Net\CityInfo.API\CityInfo.API\CityInfo.db'.
2023-11-05 00:13:56.489 +03:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointsOfInterest" AS "p"
WHERE "p"."CityId" = @__cityId_0
2023-11-05 00:13:56.492 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointsOfInterest" AS "p"
WHERE "p"."CityId" = @__cityId_0
2023-11-05 00:13:56.495 +03:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-11-05 00:13:56.496 +03:00 [DBG] A data reader was disposed.
2023-11-05 00:13:56.497 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\KevinCombaGatimu\Desktop\Dotnet\Learning ASP.Net\CityInfo.API\CityInfo.API\CityInfo.db'.
2023-11-05 00:13:56.498 +03:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-11-05 00:13:56.511 +03:00 [INF] Executed action method CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 68.7782ms.
2023-11-05 00:13:56.513 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-11-05 00:13:56.517 +03:00 [DBG] No information found on request to perform content negotiation.
2023-11-05 00:13:56.518 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-11-05 00:13:56.519 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-11-05 00:13:56.520 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-11-05 00:13:56.521 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PointOfInterestDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-11-05 00:13:56.570 +03:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API) in 215.0303ms
2023-11-05 00:13:56.572 +03:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2023-11-05 00:13:56.574 +03:00 [DBG] Connection id "0HMUTFBIKR6AI" completed keep alive response.
2023-11-05 00:13:56.576 +03:00 [DBG] 'CityInfoContext' disposed.
2023-11-05 00:13:56.577 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7193/api/cities/1/pointsofinterest - - - 200 66 application/json;+charset=utf-8 242.5550ms
2023-11-05 00:28:47.559 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-11-05 00:28:47.668 +03:00 [DBG] Hosting starting
2023-11-05 00:28:47.855 +03:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 3064AB47D375EC09741A8505697F41663F80D4D9)
2023-11-05 00:28:47.933 +03:00 [INF] Now listening on: https://localhost:7193
2023-11-05 00:28:47.957 +03:00 [INF] Now listening on: http://localhost:5076
2023-11-05 00:28:47.958 +03:00 [DBG] Loaded hosting startup assembly CityInfo.API
2023-11-05 00:28:47.958 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-11-05 00:28:47.959 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-11-05 00:28:47.959 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2023-11-05 00:28:47.961 +03:00 [INF] Hosting environment: Development
2023-11-05 00:28:47.961 +03:00 [INF] Content root path: C:\Users\KevinCombaGatimu\Desktop\Dotnet\Learning ASP.Net\CityInfo.API\CityInfo.API\
2023-11-05 00:28:47.962 +03:00 [DBG] Hosting started
2023-11-05 00:28:48.049 +03:00 [DBG] Connection id "0HMUTFK42ED0K" received FIN.
2023-11-05 00:28:48.058 +03:00 [DBG] Connection id "0HMUTFK42ED0K" accepted.
2023-11-05 00:28:48.064 +03:00 [DBG] Connection id "0HMUTFK42ED0K" started.
2023-11-05 00:28:48.079 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-11-05 00:28:48.136 +03:00 [DBG] Connection id "0HMUTFK42ED0K" stopped.
2023-11-05 00:28:48.141 +03:00 [DBG] Connection id "0HMUTFK42ED0K" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-11-05 00:28:48.346 +03:00 [DBG] Connection id "0HMUTFK42ED0L" accepted.
2023-11-05 00:28:48.399 +03:00 [DBG] Connection id "0HMUTFK42ED0L" started.
2023-11-05 00:28:48.466 +03:00 [DBG] Connection 0HMUTFK42ED0L established using the following protocol: "Tls13"
2023-11-05 00:28:48.555 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7193/swagger/index.html - -
2023-11-05 00:28:48.597 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-11-05 00:28:48.712 +03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2023-11-05 00:28:48.953 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7193/_framework/aspnetcore-browser-refresh.js - -
2023-11-05 00:28:48.954 +03:00 [DBG] Response markup was updated to include browser refresh script injection.
2023-11-05 00:28:48.960 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7193/swagger/index.html - - - 200 - text/html;charset=utf-8 408.8458ms
2023-11-05 00:28:48.963 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7193/_framework/aspnetcore-browser-refresh.js - - - 200 12356 application/javascript;+charset=utf-8 9.7733ms
2023-11-05 00:28:48.985 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7193/_vs/browserLink - -
2023-11-05 00:28:49.201 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7193/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 215.3111ms
2023-11-05 00:28:49.258 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7193/swagger/v1/swagger.json - -
2023-11-05 00:28:49.449 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7193/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 190.5316ms
2023-11-05 00:28:55.356 +03:00 [DBG] Connection id "0HMUTFK42ED0L" received FIN.
2023-11-05 00:28:55.362 +03:00 [DBG] Connection id "0HMUTFK42ED0L" is closed. The last processed stream ID was 7.
2023-11-05 00:28:55.365 +03:00 [DBG] Connection id "0HMUTFK42ED0L" sending FIN because: "The client closed the connection."
2023-11-05 00:28:55.369 +03:00 [DBG] Connection id "0HMUTFK42ED0L" stopped.
2023-11-05 00:30:54.166 +03:00 [DBG] Connection id "0HMUTFK42ED0M" accepted.
2023-11-05 00:30:54.250 +03:00 [DBG] Connection id "0HMUTFK42ED0M" started.
2023-11-05 00:30:54.271 +03:00 [DBG] Connection id "0HMUTFK42ED0M" received FIN.
2023-11-05 00:30:54.294 +03:00 [DBG] Connection id "0HMUTFK42ED0N" accepted.
2023-11-05 00:30:54.301 +03:00 [DBG] Connection id "0HMUTFK42ED0N" started.
2023-11-05 00:30:54.377 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.<FillHandshakeBufferAsync>g__InternalFillHandshakeBufferAsync|189_0[TIOAdapter](TIOAdapter adap, ValueTask`1 task, Int32 minSize)
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-11-05 00:30:54.377 +03:00 [DBG] Connection 0HMUTFK42ED0N established using the following protocol: "Tls13"
2023-11-05 00:30:54.381 +03:00 [DBG] Connection id "0HMUTFK42ED0M" stopped.
2023-11-05 00:30:54.384 +03:00 [DBG] Connection id "0HMUTFK42ED0M" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-11-05 00:30:54.397 +03:00 [INF] Request starting HTTP/1.1 DELETE https://localhost:7193/api/cities/1/pointsofinterest/12 - -
2023-11-05 00:30:54.401 +03:00 [DBG] DELETE requests are not supported
2023-11-05 00:30:54.440 +03:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1/pointsofinterest/12'
2023-11-05 00:30:54.444 +03:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.DeletePointOfInterestAsync (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest/{pointofinterestId}' is valid for the request path '/api/cities/1/pointsofinterest/12'
2023-11-05 00:30:54.447 +03:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.DeletePointOfInterestAsync (CityInfo.API)'
2023-11-05 00:30:54.452 +03:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.DeletePointOfInterestAsync (CityInfo.API)'
2023-11-05 00:30:54.507 +03:00 [INF] Route matched with {action = "DeletePointOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] DeletePointOfInterestAsync(Int32, Int32) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2023-11-05 00:30:54.511 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-11-05 00:30:54.514 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-11-05 00:30:54.515 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-11-05 00:30:54.518 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-11-05 00:30:54.519 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-11-05 00:30:54.522 +03:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2023-11-05 00:30:55.188 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-11-05 00:30:55.230 +03:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2023-11-05 00:30:55.241 +03:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2023-11-05 00:30:55.245 +03:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2023-11-05 00:30:55.248 +03:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-11-05 00:30:55.250 +03:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-11-05 00:30:55.253 +03:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2023-11-05 00:30:55.259 +03:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2023-11-05 00:30:55.263 +03:00 [DBG] Attempting to bind parameter 'pointofinterestId' of type 'System.Int32' ...
2023-11-05 00:30:55.264 +03:00 [DBG] Attempting to bind parameter 'pointofinterestId' of type 'System.Int32' using the name 'pointofinterestId' in request data ...
2023-11-05 00:30:55.267 +03:00 [DBG] Done attempting to bind parameter 'pointofinterestId' of type 'System.Int32'.
2023-11-05 00:30:55.268 +03:00 [DBG] Done attempting to bind parameter 'pointofinterestId' of type 'System.Int32'.
2023-11-05 00:30:55.270 +03:00 [DBG] Attempting to validate the bound parameter 'pointofinterestId' of type 'System.Int32' ...
2023-11-05 00:30:55.272 +03:00 [DBG] Done attempting to validate the bound parameter 'pointofinterestId' of type 'System.Int32'.
2023-11-05 00:30:55.615 +03:00 [INF] Executing action method CityInfo.API.Controllers.PointsOfInterestController.DeletePointOfInterestAsync (CityInfo.API) - Validation state: "Valid"
2023-11-05 00:30:56.814 +03:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2023-11-05 00:30:56.871 +03:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Any(c => c.Id == __cityId_0)'
2023-11-05 00:30:57.189 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: new SingleQueryingEnumerable<bool>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Cities AS c
                WHERE c.Id == @__cityId_0)), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-11-05 00:30:57.271 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-11-05 00:30:57.405 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (135ms).
2023-11-05 00:30:57.432 +03:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-11-05 00:30:57.469 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\KevinCombaGatimu\Desktop\Dotnet\Learning ASP.Net\CityInfo.API\CityInfo.API\CityInfo.db'.
2023-11-05 00:30:57.494 +03:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2023-11-05 00:30:57.525 +03:00 [INF] Executed DbCommand (38ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2023-11-05 00:30:57.543 +03:00 [DBG] A data reader was disposed.
2023-11-05 00:30:57.557 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\KevinCombaGatimu\Desktop\Dotnet\Learning ASP.Net\CityInfo.API\CityInfo.API\CityInfo.db'.
2023-11-05 00:30:57.566 +03:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-11-05 00:30:57.572 +03:00 [DBG] Compiling query expression: 
'DbSet<PointOfInterest>()
    .Where(p => p.CityId == __cityId_0 & p.Id == __pointOfInterestId_1)
    .Where(c => c.Id == __cityId_0)
    .FirstOrDefault()'
2023-11-05 00:30:57.643 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<PointOfInterest>(
    asyncEnumerable: new SingleQueryingEnumerable<PointOfInterest>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: PointOfInterest.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: PointOfInterest.CityId (int) Required FK Index, 1], [Property: PointOfInterest.Description (string) Required MaxLength(200), 2], [Property: PointOfInterest.Name (string) Required MaxLength(50), 3] }
            SELECT TOP(1) p.Id, p.CityId, p.Description, p.Name
            FROM PointsOfInterest AS p
            WHERE ((p.CityId == @__cityId_0) & (p.Id == @__pointOfInterestId_1)) && (p.Id == @__cityId_0)), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, PointOfInterest>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-11-05 00:30:57.662 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-11-05 00:30:57.664 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2023-11-05 00:30:57.668 +03:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-11-05 00:30:57.670 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\KevinCombaGatimu\Desktop\Dotnet\Learning ASP.Net\CityInfo.API\CityInfo.API\CityInfo.db'.
2023-11-05 00:30:57.671 +03:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointOfInterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointsOfInterest" AS "p"
WHERE (("p"."CityId" = @__cityId_0) & ("p"."Id" = @__pointOfInterestId_1)) AND ("p"."Id" = @__cityId_0)
LIMIT 1
2023-11-05 00:30:57.673 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointOfInterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointsOfInterest" AS "p"
WHERE (("p"."CityId" = @__cityId_0) & ("p"."Id" = @__pointOfInterestId_1)) AND ("p"."Id" = @__cityId_0)
LIMIT 1
2023-11-05 00:30:57.679 +03:00 [DBG] A data reader was disposed.
2023-11-05 00:30:57.680 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\KevinCombaGatimu\Desktop\Dotnet\Learning ASP.Net\CityInfo.API\CityInfo.API\CityInfo.db'.
2023-11-05 00:30:57.681 +03:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-11-05 00:30:57.687 +03:00 [INF] Executed action method CityInfo.API.Controllers.PointsOfInterestController.DeletePointOfInterestAsync (CityInfo.API), returned result Microsoft.AspNetCore.Mvc.NotFoundResult in 2064.4271ms.
2023-11-05 00:30:57.693 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-11-05 00:30:57.698 +03:00 [DBG] No information found on request to perform content negotiation.
2023-11-05 00:30:57.699 +03:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2023-11-05 00:30:57.701 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2023-11-05 00:30:57.702 +03:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2023-11-05 00:30:57.928 +03:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.DeletePointOfInterestAsync (CityInfo.API) in 3400.9909ms
2023-11-05 00:30:57.931 +03:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.DeletePointOfInterestAsync (CityInfo.API)'
2023-11-05 00:30:57.933 +03:00 [DBG] Connection id "0HMUTFK42ED0N" completed keep alive response.
2023-11-05 00:30:57.941 +03:00 [DBG] 'CityInfoContext' disposed.
2023-11-05 00:30:57.947 +03:00 [INF] Request finished HTTP/1.1 DELETE https://localhost:7193/api/cities/1/pointsofinterest/12 - - - 404 161 application/problem+json;+charset=utf-8 3550.1709ms
2023-11-05 00:31:04.662 +03:00 [INF] Request starting HTTP/1.1 DELETE https://localhost:7193/api/cities/1/pointsofinterest/1 - -
2023-11-05 00:31:04.663 +03:00 [DBG] DELETE requests are not supported
2023-11-05 00:31:04.665 +03:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1/pointsofinterest/1'
2023-11-05 00:31:04.666 +03:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.DeletePointOfInterestAsync (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest/{pointofinterestId}' is valid for the request path '/api/cities/1/pointsofinterest/1'
2023-11-05 00:31:04.667 +03:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.DeletePointOfInterestAsync (CityInfo.API)'
2023-11-05 00:31:04.668 +03:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.DeletePointOfInterestAsync (CityInfo.API)'
2023-11-05 00:31:04.668 +03:00 [INF] Route matched with {action = "DeletePointOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] DeletePointOfInterestAsync(Int32, Int32) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2023-11-05 00:31:04.669 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-11-05 00:31:04.670 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-11-05 00:31:04.671 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-11-05 00:31:04.673 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-11-05 00:31:04.674 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-11-05 00:31:04.676 +03:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2023-11-05 00:31:04.684 +03:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2023-11-05 00:31:04.685 +03:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2023-11-05 00:31:04.686 +03:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2023-11-05 00:31:04.688 +03:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-11-05 00:31:04.688 +03:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-11-05 00:31:04.689 +03:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2023-11-05 00:31:04.690 +03:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2023-11-05 00:31:04.691 +03:00 [DBG] Attempting to bind parameter 'pointofinterestId' of type 'System.Int32' ...
2023-11-05 00:31:04.693 +03:00 [DBG] Attempting to bind parameter 'pointofinterestId' of type 'System.Int32' using the name 'pointofinterestId' in request data ...
2023-11-05 00:31:04.694 +03:00 [DBG] Done attempting to bind parameter 'pointofinterestId' of type 'System.Int32'.
2023-11-05 00:31:04.695 +03:00 [DBG] Done attempting to bind parameter 'pointofinterestId' of type 'System.Int32'.
2023-11-05 00:31:04.696 +03:00 [DBG] Attempting to validate the bound parameter 'pointofinterestId' of type 'System.Int32' ...
2023-11-05 00:31:04.696 +03:00 [DBG] Done attempting to validate the bound parameter 'pointofinterestId' of type 'System.Int32'.
2023-11-05 00:31:04.788 +03:00 [INF] Executing action method CityInfo.API.Controllers.PointsOfInterestController.DeletePointOfInterestAsync (CityInfo.API) - Validation state: "Valid"
2023-11-05 00:31:04.792 +03:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2023-11-05 00:31:04.800 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-11-05 00:31:04.802 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-11-05 00:31:04.804 +03:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-11-05 00:31:04.807 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\KevinCombaGatimu\Desktop\Dotnet\Learning ASP.Net\CityInfo.API\CityInfo.API\CityInfo.db'.
2023-11-05 00:31:04.809 +03:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2023-11-05 00:31:04.812 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2023-11-05 00:31:04.815 +03:00 [DBG] A data reader was disposed.
2023-11-05 00:31:04.816 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\KevinCombaGatimu\Desktop\Dotnet\Learning ASP.Net\CityInfo.API\CityInfo.API\CityInfo.db'.
2023-11-05 00:31:04.818 +03:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-11-05 00:31:04.821 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-11-05 00:31:04.823 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2023-11-05 00:31:04.824 +03:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-11-05 00:31:04.826 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\KevinCombaGatimu\Desktop\Dotnet\Learning ASP.Net\CityInfo.API\CityInfo.API\CityInfo.db'.
2023-11-05 00:31:04.827 +03:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointOfInterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointsOfInterest" AS "p"
WHERE (("p"."CityId" = @__cityId_0) & ("p"."Id" = @__pointOfInterestId_1)) AND ("p"."Id" = @__cityId_0)
LIMIT 1
2023-11-05 00:31:04.829 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointOfInterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointsOfInterest" AS "p"
WHERE (("p"."CityId" = @__cityId_0) & ("p"."Id" = @__pointOfInterestId_1)) AND ("p"."Id" = @__cityId_0)
LIMIT 1
2023-11-05 00:31:04.851 +03:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-11-05 00:31:04.883 +03:00 [DBG] A data reader was disposed.
2023-11-05 00:31:04.885 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\KevinCombaGatimu\Desktop\Dotnet\Learning ASP.Net\CityInfo.API\CityInfo.API\CityInfo.db'.
2023-11-05 00:31:04.886 +03:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-11-05 00:31:04.904 +03:00 [DBG] An entity of type 'PointOfInterest' tracked by 'CityInfoContext' changed state from '"Unchanged"' to '"Deleted"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-11-05 00:31:04.916 +03:00 [DBG] SaveChanges starting for 'CityInfoContext'.
2023-11-05 00:31:04.920 +03:00 [DBG] DetectChanges starting for 'CityInfoContext'.
2023-11-05 00:31:04.938 +03:00 [DBG] DetectChanges completed for 'CityInfoContext'.
2023-11-05 00:31:04.966 +03:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-11-05 00:31:04.967 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\KevinCombaGatimu\Desktop\Dotnet\Learning ASP.Net\CityInfo.API\CityInfo.API\CityInfo.db'.
2023-11-05 00:31:04.970 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2023-11-05 00:31:04.978 +03:00 [DBG] Began transaction with isolation level 'Serializable'.
2023-11-05 00:31:05.053 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-11-05 00:31:05.055 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-11-05 00:31:05.059 +03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "PointsOfInterest"
WHERE "Id" = @p0;
SELECT changes();
2023-11-05 00:31:05.070 +03:00 [INF] Executed DbCommand (11ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "PointsOfInterest"
WHERE "Id" = @p0;
SELECT changes();
2023-11-05 00:31:05.086 +03:00 [DBG] A data reader was disposed.
2023-11-05 00:31:05.096 +03:00 [DBG] Committing transaction.
2023-11-05 00:31:05.112 +03:00 [DBG] Committed transaction.
2023-11-05 00:31:05.117 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\KevinCombaGatimu\Desktop\Dotnet\Learning ASP.Net\CityInfo.API\CityInfo.API\CityInfo.db'.
2023-11-05 00:31:05.119 +03:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-11-05 00:31:05.125 +03:00 [DBG] Disposing transaction.
2023-11-05 00:31:05.136 +03:00 [DBG] An entity of type 'PointOfInterest' tracked by 'CityInfoContext' changed state from '"Deleted"' to '"Detached"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-11-05 00:31:05.140 +03:00 [DBG] SaveChanges completed for 'CityInfoContext' with 1 entities written to the database.
2023-11-05 00:31:05.144 +03:00 [INF] Executed action method CityInfo.API.Controllers.PointsOfInterestController.DeletePointOfInterestAsync (CityInfo.API), returned result Microsoft.AspNetCore.Mvc.NoContentResult in 354.1516ms.
2023-11-05 00:31:05.150 +03:00 [INF] Executing StatusCodeResult, setting HTTP status code 204
2023-11-05 00:31:05.152 +03:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.DeletePointOfInterestAsync (CityInfo.API) in 475.5201ms
2023-11-05 00:31:05.153 +03:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.DeletePointOfInterestAsync (CityInfo.API)'
2023-11-05 00:31:05.154 +03:00 [DBG] Connection id "0HMUTFK42ED0N" completed keep alive response.
2023-11-05 00:31:05.156 +03:00 [DBG] 'CityInfoContext' disposed.
2023-11-05 00:31:05.156 +03:00 [INF] Request finished HTTP/1.1 DELETE https://localhost:7193/api/cities/1/pointsofinterest/1 - - - 204 - - 494.1873ms
2023-11-05 00:31:11.113 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7193/api/cities/1/pointsofinterest/1 - -
2023-11-05 00:31:11.115 +03:00 [DBG] The request path  does not match the path filter
2023-11-05 00:31:11.119 +03:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1/pointsofinterest/1'
2023-11-05 00:31:11.123 +03:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterestAsync (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest/{pointofinterestid}' is valid for the request path '/api/cities/1/pointsofinterest/1'
2023-11-05 00:31:11.128 +03:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterestAsync (CityInfo.API)'
2023-11-05 00:31:11.129 +03:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterestAsync (CityInfo.API)'
2023-11-05 00:31:11.133 +03:00 [INF] Route matched with {action = "GetPointOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[CityInfo.API.Models.PointOfInterestDto]] GetPointOfInterestAsync(Int32, Int32) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2023-11-05 00:31:11.134 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-11-05 00:31:11.136 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-11-05 00:31:11.138 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-11-05 00:31:11.139 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-11-05 00:31:11.140 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-11-05 00:31:11.142 +03:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2023-11-05 00:31:11.149 +03:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2023-11-05 00:31:11.151 +03:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2023-11-05 00:31:11.153 +03:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2023-11-05 00:31:11.154 +03:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-11-05 00:31:11.155 +03:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-11-05 00:31:11.158 +03:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2023-11-05 00:31:11.159 +03:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2023-11-05 00:31:11.160 +03:00 [DBG] Attempting to bind parameter 'pointofinterestid' of type 'System.Int32' ...
2023-11-05 00:31:11.161 +03:00 [DBG] Attempting to bind parameter 'pointofinterestid' of type 'System.Int32' using the name 'pointofinterestid' in request data ...
2023-11-05 00:31:11.162 +03:00 [DBG] Done attempting to bind parameter 'pointofinterestid' of type 'System.Int32'.
2023-11-05 00:31:11.163 +03:00 [DBG] Done attempting to bind parameter 'pointofinterestid' of type 'System.Int32'.
2023-11-05 00:31:11.163 +03:00 [DBG] Attempting to validate the bound parameter 'pointofinterestid' of type 'System.Int32' ...
2023-11-05 00:31:11.164 +03:00 [DBG] Done attempting to validate the bound parameter 'pointofinterestid' of type 'System.Int32'.
2023-11-05 00:31:11.208 +03:00 [INF] Executing action method CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterestAsync (CityInfo.API) - Validation state: "Valid"
2023-11-05 00:31:11.283 +03:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2023-11-05 00:31:11.286 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-11-05 00:31:11.287 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-11-05 00:31:11.289 +03:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-11-05 00:31:11.291 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\KevinCombaGatimu\Desktop\Dotnet\Learning ASP.Net\CityInfo.API\CityInfo.API\CityInfo.db'.
2023-11-05 00:31:11.293 +03:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2023-11-05 00:31:11.294 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2023-11-05 00:31:11.295 +03:00 [DBG] A data reader was disposed.
2023-11-05 00:31:11.296 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\KevinCombaGatimu\Desktop\Dotnet\Learning ASP.Net\CityInfo.API\CityInfo.API\CityInfo.db'.
2023-11-05 00:31:11.297 +03:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-11-05 00:31:11.298 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-11-05 00:31:11.299 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-11-05 00:31:11.300 +03:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-11-05 00:31:11.301 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\KevinCombaGatimu\Desktop\Dotnet\Learning ASP.Net\CityInfo.API\CityInfo.API\CityInfo.db'.
2023-11-05 00:31:11.302 +03:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointOfInterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointsOfInterest" AS "p"
WHERE (("p"."CityId" = @__cityId_0) & ("p"."Id" = @__pointOfInterestId_1)) AND ("p"."Id" = @__cityId_0)
LIMIT 1
2023-11-05 00:31:11.305 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointOfInterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointsOfInterest" AS "p"
WHERE (("p"."CityId" = @__cityId_0) & ("p"."Id" = @__pointOfInterestId_1)) AND ("p"."Id" = @__cityId_0)
LIMIT 1
2023-11-05 00:31:11.307 +03:00 [DBG] A data reader was disposed.
2023-11-05 00:31:11.308 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\KevinCombaGatimu\Desktop\Dotnet\Learning ASP.Net\CityInfo.API\CityInfo.API\CityInfo.db'.
2023-11-05 00:31:11.310 +03:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-11-05 00:31:11.314 +03:00 [INF] Executed action method CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterestAsync (CityInfo.API), returned result Microsoft.AspNetCore.Mvc.NotFoundResult in 103.2552ms.
2023-11-05 00:31:11.316 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-11-05 00:31:11.319 +03:00 [DBG] No information found on request to perform content negotiation.
2023-11-05 00:31:11.320 +03:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2023-11-05 00:31:11.322 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2023-11-05 00:31:11.324 +03:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2023-11-05 00:31:11.326 +03:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterestAsync (CityInfo.API) in 183.876ms
2023-11-05 00:31:11.327 +03:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterestAsync (CityInfo.API)'
2023-11-05 00:31:11.329 +03:00 [DBG] Connection id "0HMUTFK42ED0N" completed keep alive response.
2023-11-05 00:31:11.332 +03:00 [DBG] 'CityInfoContext' disposed.
2023-11-05 00:31:11.334 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7193/api/cities/1/pointsofinterest/1 - - - 404 161 application/problem+json;+charset=utf-8 221.2990ms
